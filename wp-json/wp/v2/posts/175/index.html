{"id":175,"date":"2023-12-12T08:50:08","date_gmt":"2023-12-12T08:50:08","guid":{"rendered":"http:\/\/localhost:9090\/?p=175"},"modified":"2023-12-12T08:50:08","modified_gmt":"2023-12-12T08:50:08","slug":"disable-keyboard-touch-pad-in-pop","status":"publish","type":"post","link":"http:\/\/localhost:9090\/disable-keyboard-touch-pad-in-pop\/","title":{"rendered":"Disable keyboard touch pad in Pop!"},"content":{"rendered":"\n<p>In the case of convertible laptops the keyboard and touchpad needs to be disabled if the laptop screen is being used as a tablet and you dont want accidental keypresses. This happens automatically on windows but linux and Pop! does not detect the switch which allows it to know that the laptop os being flipped. Some laptops show up this key , some dont.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>ray@pop-os:~\/TabletButton$ xinput list \n<strong>\u23a1 Virtual core pointer                    \tid=2\t<\/strong>&#91;master pointer  (3)]\n\u239c   \u21b3 Virtual core XTEST pointer              \tid=4\t&#91;slave  pointer  (2)]\n\u239c   \u21b3 Asus Keyboard                           \tid=9\t&#91;slave  pointer  (2)]\n\u239c   \u21b3 Asus Keyboard                           \tid=11\t&#91;slave  pointer  (2)]\n\u239c   \u21b3 ELAN9008:00 04F3:2FC2                   \tid=12\t&#91;slave  pointer  (2)]\n\u239c   \u21b3 ASUE120D:00 04F3:31FB Mouse             \tid=14\t&#91;slave  pointer  (2)]\n<strong>\u239c   \u21b3 ASUE120D:00 04F3:31FB Touchpad          \tid=15\t&#91;slave  pointer  (2)]<\/strong>\n\u239c   \u21b3 input-remapper Asus Keyboard forwarded  \tid=20\t&#91;slave  pointer  (2)]\n\u239c   \u21b3 ERGO M575 Mouse                         \tid=22\t&#91;slave  pointer  (2)]\n\u239c   \u21b3 input-remapper ERGO M575 Mouse forwarded\tid=23\t&#91;slave  pointer  (2)]\n\u23a3 <strong>Virtual core keyboard                   \tid=3<\/strong>\t&#91;master keyboard (2)]\n    \u21b3 Virtual core XTEST keyboard             \tid=5\t&#91;slave  keyboard (3)]\n    \u21b3 Video Bus                               \tid=6\t&#91;slave  keyboard (3)]\n    \u21b3 Power Button                            \tid=7\t&#91;slave  keyboard (3)]\n    \u21b3 Sleep Button                            \tid=8\t&#91;slave  keyboard (3)]\n    \u21b3 Asus Keyboard                           \tid=10\t&#91;slave  keyboard (3)]\n    \u21b3 ELAN9008:00 04F3:2FC2 Stylus            \tid=13\t&#91;slave  keyboard (3)]\n    \u21b3 Asus WMI hotkeys                        \tid=16\t&#91;slave  keyboard (3)]\n    \u21b3 Asus Keyboard                           \tid=17\t&#91;slave  keyboard (3)]\n<strong>    \u21b3 input-remapper keyboard                 \tid=18\t&#91;slave  keyboard (3)]\n    \u21b3 input-remapper Asus Keyboard forwarded  \tid=19\t&#91;slave  keyboard (3)]\n    \u21b3 input-remapper Asus Keyboard forwarded<\/strong>  \t<strong>id=21\t&#91;slave  keyboard (3)]<\/strong><\/code><\/pre>\n\n\n\n<p>We can find the correct input type by disconnecting and connecting. If you are successful and the keyboard is disabled you need an external usb keyboard to start typing to reattach. So its best to use the below script to experiment which finishes in a certain time and you regain keyboard.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#!\/bin\/bash\n\n#to disconnect by id\n#disconnect special key\nxinput float 18\n#disconnect main keyboard\nxinput float 19\n#disconnect special key\nxinput float 21\n#disconnect touch pad\nxinput float 15\n\nsleep 10s # Waits 10 seconds. \n#Check if your keyboard and touchpad is disabled\n\n#to reconnecct by id to parent\nxinput reattach 18 3\nxinput reattach 19 3\nxinput reattach 21 3\nxinput reattach 15 2<\/code><\/pre>\n\n\n\n<p>Create a Gnome Panel applet to do the same. We need a dependency for this<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>sudo apt-get install gir1.2-appindicator3-0.1 <\/code><\/pre>\n\n\n\n<p>Now the script<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#!\/usr\/bin\/python3\n\n# This code is an example for a tutorial on Ubuntu Unity\/Gnome AppIndicators:\n# http:\/\/candidtim.github.io\/appindicator\/2014\/09\/13\/ubuntu-appindicator-step-by-step.html\n# https:\/\/gist.github.com\/candidtim\/7290a1ad6e465d680b68\n\nimport os\nimport signal\nimport json\nimport subprocess\n\nimport gi\ngi.require_version('Gtk', '3.0') \nfrom gi.repository import Gtk as gtk\nfrom gi.repository import AppIndicator3 as appindicator\nfrom gi.repository import Notify as notify\n\n\n\nAPPINDICATOR_ID = 'tabletmodeindicator'\n\ndef main():\n    indicator = appindicator.Indicator.new(APPINDICATOR_ID, os.path.abspath('<strong>\/home\/surajitray\/TabletButton\/tablet.svg<\/strong>'), appindicator.IndicatorCategory.SYSTEM_SERVICES)\n    indicator.set_status(appindicator.IndicatorStatus.ACTIVE)\n    indicator.set_menu(build_menu())\n    notify.init(APPINDICATOR_ID)\n    gtk.main()\n\ndef build_menu():\n    menu = gtk.Menu()\n\n    item_tbmode = gtk.MenuItem('TabletMode')\n    item_tbmode.connect('activate', tbmode)\n    menu.append(item_tbmode)\n\n\n    item_lpmode = gtk.MenuItem('LaptopMode')\n    item_lpmode.connect('activate', lpmode)\n    menu.append(item_lpmode)\n\n    item_quit = gtk.MenuItem('Quit')\n    item_quit.connect('activate', quit)\n    menu.append(item_quit)\n\n    menu.show_all()\n    return menu\n\ndef tbmode(_):\n    subprocess.call(\"<strong>\/home\/surajitray\/<strong>TabletButton<\/strong><\/strong>\/<strong>keyboardtouchpaddisable.sh<\/strong>\", shell=True)\n    return tbmode\n\ndef lpmode(_):\n    subprocess.call(\"<strong>\/home\/surajitray\/<strong>TabletButton<\/strong><\/strong>\/<strong>keyboardtouchpadenable.sh<\/strong>\", shell=True)\n    return lpmode\n\ndef quit1(_):\n    notify.uninit()\n    gtk.main_quit()\n\nif __name__ == \"__main__\":\n    signal.signal(signal.SIGINT, signal.SIG_DFL)\n    main()<\/code><\/pre>\n\n\n\n<p>The scripts are below<\/p>\n\n\n\n<p><strong>keyboardtouchpaddisable.sh<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#!\/bin\/bash\n\nxinput float 18\nxinput float 19\nxinput float 21\nxinput float 15<\/code><\/pre>\n\n\n\n<p><strong>keyboardtouchpaddisable.sh<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#!\/bin\/bash\n\nxinput reattach 18 3\nxinput reattach 19 3\nxinput reattach 21 3\nxinput reattach 15 2<\/code><\/pre>\n\n\n\n<p>You can use any svg for the image : <strong>\/home\/surajitray\/TabletButton\/tablet.svg<\/strong>, just make sure the image and path are correct. Now you can put this item in the startup applications<\/p>\n\n\n\n<p><\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"717\" src=\"http:\/\/localhost:9090\/wp-content\/uploads\/2023\/12\/image-1024x717.png\" alt=\"\" class=\"wp-image-178\" srcset=\"http:\/\/localhost:9090\/wp-content\/uploads\/2023\/12\/image-1024x717.png 1024w, http:\/\/localhost:9090\/wp-content\/uploads\/2023\/12\/image-300x210.png 300w, http:\/\/localhost:9090\/wp-content\/uploads\/2023\/12\/image-768x538.png 768w, http:\/\/localhost:9090\/wp-content\/uploads\/2023\/12\/image-1536x1075.png 1536w, http:\/\/localhost:9090\/wp-content\/uploads\/2023\/12\/image.png 2024w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n","protected":false},"excerpt":{"rendered":"<p>In the case of convertible laptops the keyboard and touchpad needs to be disabled if the laptop screen is being used as a tablet and you dont want accidental keypresses. This happens automatically on windows but linux and Pop! does&hellip; <\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[],"_links":{"self":[{"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/posts\/175"}],"collection":[{"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/comments?post=175"}],"version-history":[{"count":3,"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/posts\/175\/revisions"}],"predecessor-version":[{"id":179,"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/posts\/175\/revisions\/179"}],"wp:attachment":[{"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/media?parent=175"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/categories?post=175"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/localhost:9090\/wp-json\/wp\/v2\/tags?post=175"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}